<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Analysis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reset.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/nav.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mobile.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/table.css') }}">
    <script src="{{ url_for('static', filename='javascript/sarasbeads/demo.js') }}"></script>
    <script src="{{ url_for('static', filename='javascript/sarasbeads/filter.js') }}"></script>
</head>
<body>
    <nav>
        <script src="../static/javascript/hub/toggle-darkmode.js"></script>
        <div class="dark-mode-toggle">
            <button id="dark-mode-toggle" aria-label="Toggle dark mode" style = "margin-right: 2rem;">
                <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
        </div>
        
        <ul class="nav-links">
            <li><a href="{{ url_for('sarasbeads.home') }}">Home</a></li>
            <li><a href="{{ url_for('sarasbeads.analysis') }}">Sales Analysis</a></li>
            <li><a href="{{ url_for('sarasbeads.predictions') }}">Predictions</a></li>
            <li><a href="{{ url_for('sarasbeads.database') }}">Database</a></li>
            <li><a href="/">Back to Hub</a></li>
            {% if admin_mode %}
                <li><a href="{{ url_for('sarasbeads.exit_admin') }}">Exit Admin</a></li>
                <li><a href="/logout">Logout</a></li>
            {% else %}
                <li><a href="{{ url_for('sarasbeads.admin') }}">Access Admin</a></li>
                <li><a href="/login">Login</a></li>
            {% endif %}
        </ul>
        
        {% if admin_mode %}
            <div class="user-label admin">Admin</div>
        {% elif mod_mode %}
            <div class="user-label moderator">Moderator</div>
        {% elif viewer_mode %}
            <div class="user-label viewer">Viewer</div>
        {% endif %}
        
        <script src="../../static/javascript/hub/hamburger_menu.js"></script>
        <button class="hamburger" id="hamburger">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </button>
        
        <div class="right-menu" id="right-menu">
            <ul>
                <li><a href="#about">About this Platform</a></li>
                <div class="underline2" style="width: 90%;"></div>
                <li><a href="#services">Our Services</a></li>
                <div class="underline2" style="width: 90%;"></div>
                <li><a href="#get-started">Get Started</a></li>
                <div class="underline2" style="width: 90%;"></div>
                <li><a href="#contact">Contact</a></li>
                <div class="underline2" style="width: 90%;"></div>
                <li><a href="/Blog">Blog</a></li>
                <div class="underline2" style="width: 90%;"></div>
                {% if admin_mode %}
                    <li><a href="/logout">Logout</a></li>
                {% else %}
                    <li><a href="/login">Login</a></li>
                {% endif %}
                <div class="underline2" style="width: 90%;"></div>
            </ul>
        </div>
        <script src="../../static/javascript/hub/anti-scroll-menu.js"></script>        
    </nav>

        
    <style> 
        h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
    </style>

    
    <div class = "page-container" style = "width: 75%; height: auto; margin: 0 auto;">
        <!-- Section 1: Filter by Month -->
        {% if admin_mode %}
            <!-- Section 1: Filter by Month of the Year -->
            <section class="section-box">
                <h2>Filter by Month of the Year</h2>
                {% if month %}
                    <button class="cta-button reveal-button" data-content="month">Reveal</button>
                    <section id="month-info" class="hidden-stat">
                        <div class="table-container">
                            {{ month | safe }}
                        </div>
                    </section>
                {% else %}
                    <p>No data available for month analysis.</p>
                {% endif %}
            </section>

            <!-- Section 2: Day of the Week -->
            <section class="section-box">
                <h2>Filter by Day of the Week</h2>
                {% if week %}
                    <button class="cta-button reveal-button" data-content="week">Reveal</button>
                    <section id="week-info" class="hidden-stat">
                        <div class="table-container">
                            {{ week | safe }}
                        </div>
                    </section>
                {% else %}
                    <p>No data available for week analysis.</p>
                {% endif %}
            </section>

            <!-- Section 3: Payment Method -->
            <section class="section-box">
                <h2>Filter by Payment Method</h2>
                {% if payment %}
                    <button class="cta-button reveal-button" data-content="payment">Reveal</button>
                    <section id="payment-info" class="hidden-stat">
                        <div class="table-container">
                            {{ payment | safe }}
                        </div>
                    </section>
                {% else %}
                    <p>No data available for payment analysis.</p>
                {% endif %}
            </section>

            <!-- Section 4: Filter Sales Data by Date -->
            <section class="section-box">
                <h2>Filter Sales Data</h2>
                <form id="filter-form" action="{{ url_for('sarasbeads.analysis') }}" method="POST">
                    <div class="filter-group">
                        <label for="start_date">Start Date:</label>
                        <input type="date" id="start_date" name="start_date" value="{{ start_date }}">
                    </div>
                    <div class="filter-group">
                        <label for="end_date">End Date:</label>
                        <input type="date" id="end_date" name="end_date" value="{{ end_date }}">
                    </div>
                    <button type="submit" class="cta-button filter-button">Apply Filters</button>
                </form>

                {% if handmade_table %}
                    <button class="cta-button reveal-button" data-content="handmade">Reveal</button>
                    <section id="handmade-info" class="hidden-stat">
                        <div class="table-container">
                            <h3>Handmade / Beaded Sales</h3>
                            {{ handmade_table | safe }}
                        </div>
                    </section>
                {% else %}
                    <p>No handmade sales data available.</p>
                {% endif %}

                {% if sterling_silver_table %}
                    <button class="cta-button reveal-button" data-content="sterling_silver">Reveal</button>
                    <section id="sterling_silver-info" class="hidden-stat">
                        <div class="table-container">
                            <h3>Sterling Silver Sales</h3>
                            {{ sterling_silver_table | safe }}
                        </div>
                    </section>
                {% else %}
                    <p>No sterling silver sales data available.</p>
                {% endif %}

                {% if gold_plated_table %}
                    <button class="cta-button reveal-button" data-content="gold_plated">Reveal</button>
                    <section id="gold_plated-info" class="hidden-stat">
                        <div class="table-container">
                            <h3>Gold Plated Sales</h3>
                            {{ gold_plated_table | safe }}
                        </div>
                    </section>
                {% else %}
                    <p>No gold-plated sales data available.</p>
                {% endif %}

                {% if full_database_table %}
                    <button class="cta-button reveal-button" data-content="full_database">Reveal</button>
                    <section id="full_database-info" class="hidden-stat">
                        <div class="table-container">
                            <h3>Full Database Sales</h3>
                            {{ full_database_table | safe }}
                        </div>
                    </section>
                {% else %}
                    <p>No full database data available.</p>
                {% endif %}
            </section>

            <!-- Section 5: Average -->
            <section class="section-box">
                <h2>Average</h2>
                {% if average %}
                    <button class="cta-button reveal-button" data-content="average">Reveal</button>
                    <section id="average-info" class="hidden-stat">
                        <div class="table-container">
                            {{ average | safe }}
                        </div>
                    </section>
                {% else %}
                    <p>No average data available.</p>
                {% endif %}
            </section>
        {% else %}
            <!-- Show this if admin status is off -->
            <section class="section-box">
                <h1>Database Empty</h1>
                <p>No analysis available.</p>
            </section>
        {% endif %}
    </div>

    <footer>
        <p><strong>Email:</strong>mohamadarouni5@gmail.com</p>
        <p><strong>Phone Number:</strong> +44 7484239767</p>
        &copy; 2024 Data Analysis Hub
    </footer>


</body>
</html>
